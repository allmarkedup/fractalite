{% macro navTree(items, depth = 1) %}
<ul class="fr-nav__items" data-depth="{{ depth }}">
{% for item in items %}
  <li>
    {% if item.url %}<a href="{{ item.url }}">{% else %}<span>{% endif -%}
    {{ item.label }}
    {%- if item.url %}</a>{% else %}</span>{% endif %}
    {% if item.children and item.children.length %}
      {{ navTree(item.children, depth + 1) }}
    {% endif %}
  </li>
{% endfor %}
</ul>
{% endmacro %}

<div class="fr-nav">

  {{ navTree(nav.items) }}

</div>
