{% extends "ui/layout" %}
{% import "ui/macros" as macros -%}

{% block body %}

{% set components = state.components | collect %}
{% set pages = state.pages | collect %}

<div class="container">

  <nav class="nav">
    {% block sidebar %}

    <div class="nav__section">
      {% if pages.length %}
      {{ macros.tree('pages', pages | tree) }}
      {% else %}
      <ul class="tree">
        <li>
          <a href="{{ route('index') }}">Overview</a>
        </li>
      </ul>
      {% endif %}
    </div>

    {% if components.length %}
    <div class="nav__section">
      <h4 class="nav__label">Components</h4>
      {{ macros.tree('components', components | tree) }}
    </div>
    {% endif %}
    {% endblock %}
  </nav>

  <main class="content">
  {% block main %}{% endblock %}
  </main>

</div>

{% endblock %}
